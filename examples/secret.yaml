secrets:
  plain:
    type: unencrypted
    data:
      password: qwerty

sources:
  check:
    type: http_check
    targets:
      - http://127.0.0.1:9100 # the prometheus_exporter sink
    auth:
      strategy: basic
      user: admin
      password: qwerty

sinks:
  prom:
    # checkout with `curl -u admin:qwerty http://localhost:9100/metrics`
    type: prometheus_exporter
    inputs:
      - check
    auth:
      strategy: basic
      user: admin
      password: SECRET[plain.password]
